\hypertarget{classhiqp_1_1TaskManager}{\section{hiqp\-:\-:Task\-Manager Class Reference}
\label{classhiqp_1_1TaskManager}\index{hiqp\-::\-Task\-Manager@{hiqp\-::\-Task\-Manager}}
}


The central mediator class in teh Hi\-Q\-P framework.  




{\ttfamily \#include $<$task\-\_\-manager.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classhiqp_1_1TaskManager_a79ce349f194b18d0fb6177dde0903b2b}{{\bfseries Task\-Manager} (\hyperlink{classhiqp_1_1Visualizer}{Visualizer} $\ast$visualizer)}\label{classhiqp_1_1TaskManager_a79ce349f194b18d0fb6177dde0903b2b}

\item 
\hypertarget{classhiqp_1_1TaskManager_a640c2adc882769f691557a7ffd9c6cab}{void {\bfseries init} (unsigned int num\-\_\-controls)}\label{classhiqp_1_1TaskManager_a640c2adc882769f691557a7ffd9c6cab}

\item 
bool \hyperlink{classhiqp_1_1TaskManager_a077ffe75d41dd8be2c728824d93207ce}{get\-Kinematic\-Controls} (const \hyperlink{classhiqp_1_1HiQPTimePoint}{Hi\-Q\-P\-Time\-Point} \&sampling\-\_\-time, const K\-D\-L\-::\-Tree \&kdl\-\_\-tree, const K\-D\-L\-::\-Jnt\-Array\-Vel \&kdl\-\_\-joint\-\_\-pos\-\_\-vel, std\-::vector$<$ double $>$ \&controls)
\begin{DoxyCompactList}\small\item\em Called every time the controller is updated by the ros\-::controller\-\_\-manager. \end{DoxyCompactList}\item 
void \hyperlink{classhiqp_1_1TaskManager_a96169e24a3972b61eab9d0e15fdf723c}{get\-Task\-Monitoring\-Data} (std\-::vector$<$ \hyperlink{classhiqp_1_1TaskMonitoringData}{Task\-Monitoring\-Data} $>$ \&data)
\begin{DoxyCompactList}\small\item\em Retrieves the performance measures for every active task along with the task's name and unique identifier. \end{DoxyCompactList}\item 
int \hyperlink{classhiqp_1_1TaskManager_a6ae5db3755ca5231a99b1b0c5f06e00d}{add\-Task} (const std\-::string \&name, const std\-::string \&type, const std\-::vector$<$ std\-::string $>$ \&behaviour\-\_\-parameters, unsigned int priority, bool visibility, const std\-::vector$<$ std\-::string $>$ \&parameters, const \hyperlink{classhiqp_1_1HiQPTimePoint}{Hi\-Q\-P\-Time\-Point} \&sampling\-\_\-time, const K\-D\-L\-::\-Tree \&kdl\-\_\-tree, const K\-D\-L\-::\-Jnt\-Array\-Vel \&kdl\-\_\-joint\-\_\-pos\-\_\-vel)
\begin{DoxyCompactList}\small\item\em Adds a task to the task manager and activates it. \end{DoxyCompactList}\item 
\hypertarget{classhiqp_1_1TaskManager_aa8248ca15ed12ab7d2dd7b77fb6250e8}{int {\bfseries update\-Task} (const std\-::string \&name, const std\-::string \&type, const std\-::vector$<$ std\-::string $>$ \&behaviour\-\_\-parameters, unsigned int priority, bool visibility, const std\-::vector$<$ std\-::string $>$ \&parameters, const \hyperlink{classhiqp_1_1HiQPTimePoint}{Hi\-Q\-P\-Time\-Point} \&sampling\-\_\-time, const K\-D\-L\-::\-Tree \&kdl\-\_\-tree, const K\-D\-L\-::\-Jnt\-Array\-Vel \&kdl\-\_\-joint\-\_\-pos\-\_\-vel)}\label{classhiqp_1_1TaskManager_aa8248ca15ed12ab7d2dd7b77fb6250e8}

\item 
int \hyperlink{classhiqp_1_1TaskManager_a1f58d497fa59e23506e6d7d60fe3693d}{remove\-Task} (std\-::string task\-\_\-name)
\item 
\hypertarget{classhiqp_1_1TaskManager_a929fdbdd83a994ae77177ef27a9f943f}{int {\bfseries remove\-All\-Tasks} ()}\label{classhiqp_1_1TaskManager_a929fdbdd83a994ae77177ef27a9f943f}

\item 
\hypertarget{classhiqp_1_1TaskManager_adaae639bf137e5777698874baf546dc9}{int {\bfseries add\-Geometric\-Primitive} (const std\-::string \&name, const std\-::string \&type, const std\-::string \&frame\-\_\-id, bool visible, const std\-::vector$<$ double $>$ \&color, const std\-::vector$<$ double $>$ \&parameters)}\label{classhiqp_1_1TaskManager_adaae639bf137e5777698874baf546dc9}

\item 
\hypertarget{classhiqp_1_1TaskManager_aa6bdcfaeffc34104e03a552fd8d0edbf}{int {\bfseries remove\-Geometric\-Primitive} (std\-::string name)}\label{classhiqp_1_1TaskManager_aa6bdcfaeffc34104e03a552fd8d0edbf}

\item 
\hypertarget{classhiqp_1_1TaskManager_a39cff5e3787625265ca83b881c7fae84}{int {\bfseries remove\-All\-Geometric\-Primitives} ()}\label{classhiqp_1_1TaskManager_a39cff5e3787625265ca83b881c7fae84}

\item 
\hypertarget{classhiqp_1_1TaskManager_a6218eff8858bd644d58fed63ef29d290}{Geometric\-Primitive\-Map $\ast$ {\bfseries get\-Geometric\-Primitive\-Map} ()}\label{classhiqp_1_1TaskManager_a6218eff8858bd644d58fed63ef29d290}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
The central mediator class in teh Hi\-Q\-P framework. 

\subsection{Member Function Documentation}
\hypertarget{classhiqp_1_1TaskManager_a6ae5db3755ca5231a99b1b0c5f06e00d}{\index{hiqp\-::\-Task\-Manager@{hiqp\-::\-Task\-Manager}!add\-Task@{add\-Task}}
\index{add\-Task@{add\-Task}!hiqp::TaskManager@{hiqp\-::\-Task\-Manager}}
\subsubsection[{add\-Task}]{\setlength{\rightskip}{0pt plus 5cm}int hiqp\-::\-Task\-Manager\-::add\-Task (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{name, }
\item[{const std\-::string \&}]{type, }
\item[{const std\-::vector$<$ std\-::string $>$ \&}]{behaviour\-\_\-parameters, }
\item[{unsigned int}]{priority, }
\item[{bool}]{visibility, }
\item[{const std\-::vector$<$ std\-::string $>$ \&}]{parameters, }
\item[{const {\bf Hi\-Q\-P\-Time\-Point} \&}]{sampling\-\_\-time, }
\item[{const K\-D\-L\-::\-Tree \&}]{kdl\-\_\-tree, }
\item[{const K\-D\-L\-::\-Jnt\-Array\-Vel \&}]{kdl\-\_\-joint\-\_\-pos\-\_\-vel}
\end{DoxyParamCaption}
)}}\label{classhiqp_1_1TaskManager_a6ae5db3755ca5231a99b1b0c5f06e00d}


Adds a task to the task manager and activates it. 


\begin{DoxyParams}{Parameters}
{\em task\-\_\-name} & \-: name of the task to be created \\
\hline
{\em behaviour\-\_\-name} & \-: name of the behaviour that shall be associated with this task \\
\hline
{\em priority} & \-: the priority of this task (1 is highest) \\
\hline
{\em visible} & \-: whether this task should be visible or not \\
\hline
{\em parameters} & \-: the task specific parameters \\
\hline
{\em num\-Controls} & \-: the total number of controls used by the controller\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if the task creation was successful, -\/1 is the behaviour\-\_\-parameters argument was invalid, -\/2 if the task behaviour name was not recognised, -\/3 if the task name was not recognised
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000002}{Todo}]the add\-\_\-task and update\-\_\-task service calls shall be exchanged for a set\-\_\-task service call 

\hyperlink{classhiqp_1_1TaskFunction}{Task\-Function} objects shall be accessed through smart pointers 

\hyperlink{classhiqp_1_1TaskDynamics}{Task\-Dynamics} objects shall be accessed through smart pointers \end{DoxyRefDesc}
\hypertarget{classhiqp_1_1TaskManager_a077ffe75d41dd8be2c728824d93207ce}{\index{hiqp\-::\-Task\-Manager@{hiqp\-::\-Task\-Manager}!get\-Kinematic\-Controls@{get\-Kinematic\-Controls}}
\index{get\-Kinematic\-Controls@{get\-Kinematic\-Controls}!hiqp::TaskManager@{hiqp\-::\-Task\-Manager}}
\subsubsection[{get\-Kinematic\-Controls}]{\setlength{\rightskip}{0pt plus 5cm}bool hiqp\-::\-Task\-Manager\-::get\-Kinematic\-Controls (
\begin{DoxyParamCaption}
\item[{const {\bf Hi\-Q\-P\-Time\-Point} \&}]{sampling\-\_\-time, }
\item[{const K\-D\-L\-::\-Tree \&}]{kdl\-\_\-tree, }
\item[{const K\-D\-L\-::\-Jnt\-Array\-Vel \&}]{kdl\-\_\-joint\-\_\-pos\-\_\-vel, }
\item[{std\-::vector$<$ double $>$ \&}]{controls}
\end{DoxyParamCaption}
)}}\label{classhiqp_1_1TaskManager_a077ffe75d41dd8be2c728824d93207ce}


Called every time the controller is updated by the ros\-::controller\-\_\-manager. 

Does some cool stuff!


\begin{DoxyParams}{Parameters}
{\em kdl\-\_\-tree} & \-: the kinematic dynamic tree of the robot \\
\hline
{\em n\-\_\-controls} & \-: the number of controls \\
\hline
{\em controls} & \-: reference to the controls data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the initialization was successful 
\end{DoxyReturn}
\hypertarget{classhiqp_1_1TaskManager_a96169e24a3972b61eab9d0e15fdf723c}{\index{hiqp\-::\-Task\-Manager@{hiqp\-::\-Task\-Manager}!get\-Task\-Monitoring\-Data@{get\-Task\-Monitoring\-Data}}
\index{get\-Task\-Monitoring\-Data@{get\-Task\-Monitoring\-Data}!hiqp::TaskManager@{hiqp\-::\-Task\-Manager}}
\subsubsection[{get\-Task\-Monitoring\-Data}]{\setlength{\rightskip}{0pt plus 5cm}void hiqp\-::\-Task\-Manager\-::get\-Task\-Monitoring\-Data (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ {\bf Task\-Monitoring\-Data} $>$ \&}]{data}
\end{DoxyParamCaption}
)}}\label{classhiqp_1_1TaskManager_a96169e24a3972b61eab9d0e15fdf723c}


Retrieves the performance measures for every active task along with the task's name and unique identifier. 

N\-O\-T\-E\-: The vector sent to this function is supposed to be empty


\begin{DoxyParams}{Parameters}
{\em data} & \-: a reference to a vector of monitoring data structures \\
\hline
\end{DoxyParams}
\hypertarget{classhiqp_1_1TaskManager_a1f58d497fa59e23506e6d7d60fe3693d}{\index{hiqp\-::\-Task\-Manager@{hiqp\-::\-Task\-Manager}!remove\-Task@{remove\-Task}}
\index{remove\-Task@{remove\-Task}!hiqp::TaskManager@{hiqp\-::\-Task\-Manager}}
\subsubsection[{remove\-Task}]{\setlength{\rightskip}{0pt plus 5cm}int hiqp\-::\-Task\-Manager\-::remove\-Task (
\begin{DoxyParamCaption}
\item[{std\-::string}]{task\-\_\-name}
\end{DoxyParamCaption}
)}}\label{classhiqp_1_1TaskManager_a1f58d497fa59e23506e6d7d60fe3693d}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000003}{Todo}]refactor the remove\-\_\-task service call to a unset\-\_\-task service call \end{DoxyRefDesc}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
include/hiqp/task\-\_\-manager.\-h\item 
src/task\-\_\-manager.\-cpp\end{DoxyCompactItemize}
